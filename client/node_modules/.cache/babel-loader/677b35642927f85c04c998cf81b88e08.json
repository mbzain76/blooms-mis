{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\src\\\\class-pages\\\\ClassList.js\";\nimport React, { Component } from 'react';\nimport '../styles/App.css';\nimport '../styles/StudentList.css';\nimport SideBar from '../components/global-layout/SideBar';\nimport GreyBar from '../components/global-layout/GreyBar';\nimport DaycareList from '../components/class-components/DaycareList';\nimport axios from 'axios';\nimport ClassListMenu from '../components/class-components/CLassListMenu';\nimport ClassListSubTab from '../components/class-components/ClassListSubTab';\nimport FullNameTab from '../components/class-components/FullNameTab';\n\nvar ClassList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ClassList, _Component);\n\n  function ClassList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ClassList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ClassList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      filter: 'none',\n      students: [],\n      display: 'none',\n      checkIcon: 'none',\n      searchText: '',\n      dayCareStuds: []\n    };\n\n    _this.onCheckClick = function () {\n      if (_this.state.checkIcon == 'none') {\n        _this.setState({\n          checkIcon: 'block'\n        });\n      } else {\n        _this.setState({\n          checkIcon: 'none'\n        });\n      }\n\n      for (var i = 0; i < document.getElementsByClassName('checkMark').length; i++) {\n        document.getElementsByClassName('checkMark')[i].style.display = _this.state.checkIcon;\n        console.log(_this.state.checkIcon);\n      }\n    };\n\n    _this.onFilterClick = function () {\n      _this.state.filter === 'none' ? _this.setState({\n        filter: 'block'\n      }) : _this.setState({\n        filter: 'none'\n      });\n      document.getElementById('filterList').style.display = _this.state.filter;\n      console.log(_this.state.filter);\n    };\n\n    _this.toggleSearch = function () {\n      _this.state.display === \"none\" ? _this.setState({\n        display: \"block\"\n      }) : _this.setState({\n        display: \"none\"\n      });\n      document.getElementsByTagName('input')[0].style.display = _this.state.display;\n    };\n\n    _this.getSearch = function (e) {\n      _this.setState({\n        searchText: e.target.value\n      });\n\n      console.log(_this.state.searchText);\n    };\n\n    _this.getChecked = function () {\n      var inputs = _toConsumableArray(document.getElementsByTagName('input'));\n\n      var trueInputs = inputs.filter(function (input) {\n        return input.checked === true;\n      });\n      var selectedInputs = [];\n\n      for (var i = 0; i < trueInputs.length; i++) {\n        console.log(trueInputs[i].value);\n        selectedInputs.push(trueInputs[i].value);\n      }\n\n      console.log(selectedInputs);\n      localStorage.setItem('selected-emails', selectedInputs);\n    };\n\n    return _this;\n  }\n\n  _createClass(ClassList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://localhost:5000/students').then(function (res) {\n        console.log(res);\n\n        _this2.setState({\n          students: res.data\n        });\n\n        _this2.setState({\n          dayCareStuds: _this2.state.students.filter(function (student) {\n            return student.class === \"Day care\";\n          })\n        });\n\n        console.log(_this2.state.dayCareStuds.length);\n      });\n    } //event for handling clicking of checkbox icon\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"parentContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(GreyBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(ClassListMenu, {\n        title: \"Students / Day care\",\n        searched: this.state.searchText,\n        path: \"/class-fee-structure\",\n        searching: this.getSearch,\n        filterDisplay: this.state.filter,\n        filter: this.onFilterClick,\n        searchfunc: this.toggleSearch,\n        searchBar: this.state.display,\n        toggleCheck: this.onCheckClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(SideBar, {\n        emailPath: \"/student-email-selected\",\n        check: this.getChecked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"componentContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(ClassListSubTab, {\n        number: this.state.dayCareStuds.length,\n        tab: \"Day care\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), React.createElement(FullNameTab, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(DaycareList, {\n        filtered: this.state.dayCareStuds,\n        retrieveS: this.getChecked,\n        view: this.state.searchText,\n        checkVisible: this.state.checkIcon,\n        classLevel: \"Day care\",\n        students: this.state.students,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return ClassList;\n}(Component);\n\nexport default ClassList;","map":{"version":3,"sources":["C:\\Users\\user\\Documents\\NodeApps\\tengeza-mis\\client\\src\\class-pages\\ClassList.js"],"names":["React","Component","SideBar","GreyBar","DaycareList","axios","ClassListMenu","ClassListSubTab","FullNameTab","ClassList","state","filter","students","display","checkIcon","searchText","dayCareStuds","onCheckClick","setState","i","document","getElementsByClassName","length","style","console","log","onFilterClick","getElementById","toggleSearch","getElementsByTagName","getSearch","e","target","value","getChecked","inputs","trueInputs","input","checked","selectedInputs","push","localStorage","setItem","get","then","res","data","student","class"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport '../styles/App.css';\r\nimport '../styles/StudentList.css';\r\nimport SideBar from '../components/global-layout/SideBar';\r\nimport GreyBar from '../components/global-layout/GreyBar';\r\nimport DaycareList from '../components/class-components/DaycareList';\r\nimport axios from 'axios';\r\nimport ClassListMenu from '../components/class-components/CLassListMenu';\r\nimport ClassListSubTab from '../components/class-components/ClassListSubTab';\r\nimport FullNameTab from '../components/class-components/FullNameTab';\r\n\r\n\r\n\r\nclass ClassList extends Component{\r\n   \r\n     state={\r\n        filter: 'none',\r\n        students: [],\r\n        display: 'none',\r\n        checkIcon: 'none',\r\n        searchText: '',\r\n        dayCareStuds: []\r\n    }\r\n\r\n \r\n\r\n    componentDidMount(){\r\n        axios.get('http://localhost:5000/students').then(res =>{\r\n            console.log(res)\r\n            this.setState({\r\n             students: res.data\r\n            })\r\n            \r\n   this.setState({\r\n    dayCareStuds: this.state.students.filter(student => student.class === \"Day care\")\r\n})\r\n \r\n\r\nconsole.log(this.state.dayCareStuds.length)\r\n        })\r\n    }\r\n   \r\n       //event for handling clicking of checkbox icon\r\n       onCheckClick = () =>{\r\n        if(this.state.checkIcon == 'none'){\r\n           this.setState({\r\n           checkIcon: 'block'\r\n       }) \r\n      }\r\n      else {\r\n          this.setState({\r\n              checkIcon: 'none'\r\n          })\r\n      }\r\n    for(let i = 0; i < document.getElementsByClassName('checkMark').length; i++){       \r\n      document.getElementsByClassName('checkMark')[i].style.display = this.state.checkIcon;\r\n        console.log(this.state.checkIcon) }\r\n  } \r\n\r\n    // function dealing with the filter dropdown menu\r\n    onFilterClick = () =>{\r\n        this.state.filter === 'none' ? this.setState({ filter: 'block'}) : this.setState({ filter: 'none'});\r\n        document.getElementById('filterList').style.display = this.state.filter;\r\n        console.log(this.state.filter)\r\n    }\r\n    \r\n      //event to toggle search view\r\n\r\n      toggleSearch = () =>{\r\n        this.state.display === \"none\" ? this.setState({display: \"block\"}) : this.setState({display: \"none\"})\r\n        \r\n        document.getElementsByTagName('input')[0].style.display = this.state.display\r\n    }\r\n \r\n      //get search text \r\n      getSearch = (e) =>{\r\n        this.setState({\r\n            searchText: e.target.value\r\n        })\r\n        console.log(this.state.searchText)\r\n     }  \r\n\r\n      //event for checking the checked fields\r\n    getChecked = () =>{\r\n        let inputs = [...document.getElementsByTagName('input')]\r\n      let trueInputs =   inputs.filter( input => input.checked === true)\r\n      let selectedInputs = []\r\n      \r\n      for(let i = 0; i < trueInputs.length; i++){\r\n          console.log(trueInputs[i].value)\r\n           selectedInputs.push(trueInputs[i].value) \r\n      }\r\n      \r\n      console.log(selectedInputs)\r\n\r\n      localStorage.setItem('selected-emails', selectedInputs)\r\n\r\n    }\r\n    render(){\r\n      \r\n        return(\r\n                          <div className=\"parentContainer\">\r\n        <GreyBar />\r\n        <div className = \"content\">\r\n        <ClassListMenu title=\"Students / Day care\" searched = {this.state.searchText} path={\"/class-fee-structure\"} searching={this.getSearch} filterDisplay = {this.state.filter} filter = {this.onFilterClick} searchfunc = {this.toggleSearch} searchBar = {this.state.display} toggleCheck={this.onCheckClick}/>\r\n            \r\n         <SideBar  emailPath={\"/student-email-selected\"} check={this.getChecked}/>\r\n\r\n          <div className=\"main\">\r\n            <div className=\"componentContainer\">\r\n                <ClassListSubTab number = { this.state.dayCareStuds.length}tab=\"Day care\" />\r\n               <FullNameTab />\r\n                <DaycareList  filtered={this.state.dayCareStuds} retrieveS = {this.getChecked} view = {this.state.searchText} checkVisible = {this.state.checkIcon} classLevel=\"Day care\" students = {this.state.students}/>\r\n              \r\n              </div>\r\n            </div>\r\n        </div>\r\n      </div>       \r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default ClassList;"]},"metadata":{},"sourceType":"module"}