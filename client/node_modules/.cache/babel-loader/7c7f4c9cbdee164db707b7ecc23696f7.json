{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\src\\\\FeeView.js\";\nimport React, { Component } from 'react';\nimport './styles/App.css';\nimport SideBar from './components/global-layout/SideBar';\nimport GreyBar from './components/global-layout/GreyBar';\nimport Menu from './components/home-page-components/Menu';\nimport './styles/FeeView.css';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport FullNameTab from './components/class-components/FullNameTab';\nimport UnpaidFeeSubTab from './components/class-components/UnpaidFeeSubTab';\nimport { createFilter } from 'react-search-input';\nvar KEYS_TO_FILTERS = ['firstName', 'middleName', 'lastName'];\n\nvar FeeView =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FeeView, _Component);\n\n  function FeeView() {\n    var _getPrototypeOf2, _this$state;\n\n    var _this;\n\n    _classCallCheck(this, FeeView);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FeeView)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = (_this$state = {\n      checkIcon: 'none',\n      checked: false,\n      searchText: '',\n      filteredList: [],\n      display: 'none',\n      students: [],\n      unpaidStudents: []\n    }, _defineProperty(_this$state, \"searchText\", ''), _defineProperty(_this$state, \"student\", {}), _defineProperty(_this$state, \"balance\", 0), _defineProperty(_this$state, \"amountPaid\", 0), _defineProperty(_this$state, \"checked\", false), _defineProperty(_this$state, \"checkedFull\", false), _defineProperty(_this$state, \"checkedHalf\", false), _defineProperty(_this$state, \"checkedPiano\", false), _defineProperty(_this$state, \"checkedGuitar\", false), _defineProperty(_this$state, \"checkedSkating\", false), _defineProperty(_this$state, \"checkedTae\", false), _defineProperty(_this$state, \"checkedBallet\", false), _defineProperty(_this$state, \"feesStructure\", {\n      dayCareTuition: 34000,\n      dayCareLunch: 7000,\n      dayCareSwimming: 1500,\n      dayCareHalf: 600,\n      dayCareFull: 800,\n      personalInsurance: 1500,\n      piano: 5000,\n      guitar: 4500,\n      skating: 4500,\n      taekwodo: 4500,\n      ballet: 4500,\n      transportZone1: 8000,\n      transportZone2: 9500,\n      transportZone3: 12500,\n      transportZone4: 14000,\n      transportZone5: 17000,\n      transportZone6: 20000,\n      beginnerTuition: 35000,\n      beginnerLunch: 7000,\n      beginnerSwimming: 2500,\n      pp1Tuition: 35000,\n      pp1Lunch: 7500,\n      pp1Swimming: 2500,\n      pp2Tuition: 35000,\n      pp2Lunch: 7500,\n      pp2Swimming: 2500,\n      grade1Tuition: 36000,\n      grade1Lunch: 8000,\n      grade1Swimming: 2500,\n      grade2Tuition: 36000,\n      grade2Lunch: 8000,\n      grade2Swimming: 2500\n    }), _this$state);\n\n    _this.onCheckClick = function () {\n      if (_this.state.checkIcon == 'none') {\n        _this.setState({\n          checkIcon: 'block'\n        });\n      } else if (_this.state.checkIcon == 'block') {\n        _this.setState({\n          checkIcon: 'none'\n        });\n      }\n\n      for (var i = 0; i < document.getElementsByClassName('checkMark').length; i++) {\n        document.getElementsByClassName('checkMark')[i].style.display = _this.state.checkIcon;\n        console.log(_this.state.checkIcon);\n      }\n    };\n\n    _this.getSearch = function (e) {\n      _this.setState({\n        searchText: e.target.value\n      });\n\n      console.log(_this.state.searchText);\n    };\n\n    _this.onFilterClick = function () {\n      if (_this.state.display == 'none') {\n        _this.setState({\n          display: 'block'\n        });\n      } else {\n        _this.setState({\n          display: 'none'\n        });\n      }\n\n      document.getElementById('filterDropList').style.display = _this.state.display;\n      console.log(_this.state.display);\n    };\n\n    _this.getChecked = function () {\n      var inputs = _toConsumableArray(document.getElementsByTagName('input'));\n\n      var trueInputs = inputs.filter(function (input) {\n        return input.checked === true;\n      });\n      var selectedInputs = [];\n\n      for (var i = 0; i < trueInputs.length; i++) {\n        console.log(trueInputs[i].value);\n        selectedInputs.push(trueInputs[i].value);\n      }\n\n      console.log(selectedInputs);\n      localStorage.setItem('selected-emails', selectedInputs);\n    };\n\n    _this.toggleSearch = function () {\n      _this.state.checkIcon === \"none\" ? _this.setState({\n        checkIcon: \"block\"\n      }) : _this.setState({\n        checkIcon: \"none\"\n      });\n      document.getElementsByTagName('input')[0].style.display = _this.state.checkIcon;\n    };\n\n    _this.toggleCheck = function () {\n      _this.state.checked === true ? _this.setState({\n        checked: false\n      }) : _this.setState({\n        checked: true\n      });\n      console.log(_this.state.checked);\n    };\n\n    return _this;\n  }\n\n  _createClass(FeeView, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://localhost:5000/students').then(function (res) {\n        console.log(res);\n\n        _this2.setState({\n          students: res.data\n        });\n      });\n    } //event for handling clicking of checkbox icon\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var unpaidStudents = this.state.students.filter(function (student) {\n        return student.previousTermBalance - student.amountPaid !== 0;\n      }).map(function (student) {\n        return React.createElement(Link, {\n          key: student._id,\n          style: {\n            textDecoration: 'none'\n          },\n          onClick: window.location.reload,\n          className: \"studentBlock\",\n          to: \"/abs/\".concat(student._id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          id: \"check\",\n          type: \"checkbox\",\n          value: \"\".concat(student.firstName, \" \").concat(student.middleName, \" \").concat(student.lastName),\n          style: {\n            display: _this3.state.checkIcon\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          style: {\n            width: '35rem',\n            display: 'block',\n            height: '28px',\n            fontSize: '25px',\n            fontWeight: 300,\n            fontStyle: 'normal',\n            letterSpacing: 'normal',\n            textAlign: 'left',\n            color: '#000000',\n            marginTop: '49px'\n          },\n          id: \"studentName\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, student.firstName, \" \", student.middleName, \" \", student.lastName));\n      });\n      var filteredStuds = this.state.students.filter(createFilter(this.state.searchText, KEYS_TO_FILTERS)).map(function (student) {\n        return React.createElement(Link, {\n          style: {\n            textDecoration: 'none'\n          },\n          key: student._id,\n          onClick: window.location.reload,\n          className: \"studentBlock\",\n          to: \"/abs/\".concat(student._id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          id: \"check\",\n          type: \"checkbox\",\n          value: \"\".concat(student.firstName, \" \").concat(student.middleName, \" \").concat(student.lastName),\n          style: {\n            display: _this3.state.checkIcon\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          style: {\n            width: '35rem',\n            display: 'block',\n            height: '28px',\n            fontSize: '25px',\n            fontWeight: 300,\n            fontStyle: 'normal',\n            letterSpacing: 'normal',\n            textAlign: 'left',\n            color: '#000000',\n            marginTop: '49px'\n          },\n          id: \"studentName\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, student.firstName, \" \", student.middleName, \" \", student.lastName));\n      });\n      return React.createElement(\"div\", {\n        className: \"parentContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(GreyBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(Menu, {\n        searching: this.getSearch,\n        onCheck: this.onCheckClick,\n        searchBar: this.state.checkIcon,\n        search: this.toggleSearch,\n        filter: this.onFilterClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }), React.createElement(SideBar, {\n        emailPath: \"/student-email-selected\",\n        check: this.getChecked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"componentContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(UnpaidFeeSubTab, {\n        number: filteredStuds.length,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }), React.createElement(FullNameTab, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }), this.state.searchText.length > 0 ? filteredStuds : unpaidStudents))));\n    }\n  }]);\n\n  return FeeView;\n}(Component);\n\nexport default FeeView;","map":{"version":3,"sources":["C:\\Users\\user\\Documents\\NodeApps\\tengeza-mis\\client\\src\\FeeView.js"],"names":["React","Component","SideBar","GreyBar","Menu","axios","Link","FullNameTab","UnpaidFeeSubTab","createFilter","KEYS_TO_FILTERS","FeeView","state","checkIcon","checked","searchText","filteredList","display","students","unpaidStudents","dayCareTuition","dayCareLunch","dayCareSwimming","dayCareHalf","dayCareFull","personalInsurance","piano","guitar","skating","taekwodo","ballet","transportZone1","transportZone2","transportZone3","transportZone4","transportZone5","transportZone6","beginnerTuition","beginnerLunch","beginnerSwimming","pp1Tuition","pp1Lunch","pp1Swimming","pp2Tuition","pp2Lunch","pp2Swimming","grade1Tuition","grade1Lunch","grade1Swimming","grade2Tuition","grade2Lunch","grade2Swimming","onCheckClick","setState","i","document","getElementsByClassName","length","style","console","log","getSearch","e","target","value","onFilterClick","getElementById","getChecked","inputs","getElementsByTagName","trueInputs","filter","input","selectedInputs","push","localStorage","setItem","toggleSearch","toggleCheck","get","then","res","data","student","previousTermBalance","amountPaid","map","_id","textDecoration","window","location","reload","firstName","middleName","lastName","width","height","fontSize","fontWeight","fontStyle","letterSpacing","textAlign","color","marginTop","filteredStuds"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport './styles/App.css';\r\nimport SideBar from './components/global-layout/SideBar';\r\nimport GreyBar from './components/global-layout/GreyBar';\r\nimport Menu from './components/home-page-components/Menu';\r\nimport './styles/FeeView.css';\r\nimport axios from 'axios';\r\nimport {Link} from 'react-router-dom';\r\nimport FullNameTab from './components/class-components/FullNameTab';\r\nimport UnpaidFeeSubTab from './components/class-components/UnpaidFeeSubTab';\r\nimport {createFilter} from 'react-search-input'\r\n\r\n\r\n\r\n\r\nconst KEYS_TO_FILTERS = ['firstName', 'middleName', 'lastName']\r\n\r\n\r\nclass FeeView extends Component{\r\n    state = {\r\n        \r\n        checkIcon: 'none',\r\n        checked: false,\r\n        searchText: '',\r\n        filteredList: [],\r\n        display: 'none',\r\n       students: [],\r\n       unpaidStudents: [],\r\n       searchText: '',\r\n       student: {},\r\n       balance: 0,\r\n       amountPaid: 0,\r\n       checked: false,\r\n       checkedFull: false,\r\n       checkedHalf: false,\r\n       checkedPiano: false,\r\n       checkedGuitar: false,\r\n       checkedSkating: false,\r\n       checkedTae: false,\r\n       checkedBallet: false,\r\n    feesStructure: {\r\n      dayCareTuition: 34000,\r\n      dayCareLunch: 7000,\r\n      dayCareSwimming: 1500,\r\n      dayCareHalf: 600,\r\n      dayCareFull: 800,\r\n      personalInsurance: 1500,\r\n      piano: 5000,\r\n      guitar: 4500,\r\n      skating: 4500,\r\n      taekwodo: 4500,\r\n      ballet: 4500,\r\n      transportZone1: 8000,\r\n      transportZone2: 9500,\r\n      transportZone3: 12500,\r\n      transportZone4: 14000,\r\n      transportZone5: 17000,\r\n      transportZone6: 20000,\r\n      beginnerTuition: 35000,\r\n      beginnerLunch: 7000,\r\n      beginnerSwimming: 2500,\r\n      pp1Tuition: 35000,\r\n      pp1Lunch: 7500,\r\n      pp1Swimming: 2500,\r\n      pp2Tuition: 35000,\r\n      pp2Lunch: 7500,\r\n      pp2Swimming: 2500,\r\n      grade1Tuition: 36000,\r\n      grade1Lunch: 8000,\r\n      grade1Swimming: 2500,\r\n      grade2Tuition:  36000,\r\n      grade2Lunch:  8000,\r\n      grade2Swimming:  2500,\r\n      \r\n\r\n    }\r\n\r\n    }\r\n    \r\n \r\n\r\n    componentDidMount(){\r\n      axios.get('http://localhost:5000/students').then(res =>{\r\n          console.log(res)\r\n          this.setState({\r\n           students: res.data\r\n          })\r\n          \r\n        \r\n      })\r\n  }\r\n\r\n  \r\n      //event for handling clicking of checkbox icon\r\n      onCheckClick = () =>{\r\n        if(this.state.checkIcon == 'none'){\r\n           this.setState({\r\n           checkIcon: 'block'\r\n       }) \r\n      }\r\n      else if(this.state.checkIcon == 'block'){\r\n          this.setState({\r\n              checkIcon: 'none'\r\n          })\r\n      }\r\n    for(let i = 0; i < document.getElementsByClassName('checkMark').length; i++){       \r\n      document.getElementsByClassName('checkMark')[i].style.display = this.state.checkIcon;\r\n        console.log(this.state.checkIcon) }\r\n  } \r\n  \r\n  \r\n     //get search text \r\n     getSearch = (e) =>{\r\n        this.setState({\r\n            searchText: e.target.value\r\n        })\r\n        console.log(this.state.searchText)\r\n      \r\n     }  \r\n\r\n         \r\n    \r\n\r\n onFilterClick = () =>{\r\n      if(this.state.display == 'none'){\r\n           this.setState({\r\n           display: 'block'\r\n       }) \r\n      }\r\n      else {\r\n          this.setState({\r\n              display: 'none'\r\n          })\r\n      }\r\n      document.getElementById('filterDropList').style.display = this.state.display;\r\n        console.log(this.state.display)   \r\n  }\r\n\r\n          //event for checking the checked fields\r\n    getChecked = () =>{\r\n        let inputs = [...document.getElementsByTagName('input')]\r\n      let trueInputs =   inputs.filter( input => input.checked === true)\r\n      let selectedInputs = []\r\n      \r\n      for(let i = 0; i < trueInputs.length; i++){\r\n          console.log(trueInputs[i].value)\r\n           selectedInputs.push(trueInputs[i].value) \r\n      }\r\n      \r\n      console.log(selectedInputs)\r\n\r\n      localStorage.setItem('selected-emails', selectedInputs)\r\n\r\n    }\r\n\r\n    //event to toggle search view\r\n\r\n    toggleSearch = () =>{\r\n        this.state.checkIcon === \"none\" ? this.setState({checkIcon: \"block\"}) : this.setState({checkIcon: \"none\"})\r\n        \r\n        document.getElementsByTagName('input')[0].style.display = this.state.checkIcon\r\n    }\r\n    //event for toggling check state\r\n\r\n    toggleCheck = () =>{\r\n        this.state.checked === true ? this.setState({checked: false}) : this.setState({checked: true}) \r\n        console.log(this.state.checked)\r\n    }\r\n\r\n\r\n\r\n  render(){\r\n\r\n    let unpaidStudents = this.state.students.filter(student =>{\r\n        return student.previousTermBalance - student.amountPaid !== 0  \r\n    }).map(student => {\r\n        return(\r\n            <Link  key = {student._id} style={{textDecoration: 'none'}} onClick={window.location.reload} className=\"studentBlock\" to={`/abs/${student._id}` }>\r\n            <input id=\"check\" type=\"checkbox\" \r\n            value={`${student.firstName} ${student.middleName} ${student.lastName}` } \r\n            style={{display: this.state.checkIcon}}  />\r\n            <p style={{width:'35rem',\r\n               display: 'block',\r\n               height: '28px',\r\n               fontSize: '25px',\r\n               fontWeight: 300,\r\n               fontStyle: 'normal',\r\n               letterSpacing: 'normal',\r\n               textAlign: 'left',\r\n               color: '#000000',\r\n               marginTop: '49px'\r\n        }} id=\"studentName\">{student.firstName} {student.middleName} {student.lastName}</p>\r\n        </Link>\r\n        )\r\n    })\r\n\r\n\r\n\r\n        const filteredStuds = this.state.students.filter(createFilter(this.state.searchText, KEYS_TO_FILTERS)).map(student =>{\r\n        return(\r\n        <Link style={{textDecoration: 'none'}} key = {student._id} onClick={window.location.reload} className=\"studentBlock\" to={`/abs/${student._id}` }>\r\n            <input id=\"check\" type=\"checkbox\" value={`${student.firstName} ${student.middleName} ${student.lastName}` } style={{display: this.state.checkIcon}}  />\r\n            <p style={{width:'35rem',\r\n               display: 'block',\r\n               height: '28px',\r\n               fontSize: '25px',\r\n               fontWeight: 300,\r\n               fontStyle: 'normal',\r\n               letterSpacing: 'normal',\r\n               textAlign: 'left',\r\n               color: '#000000',\r\n               marginTop: '49px'\r\n        }} id=\"studentName\">{student.firstName} {student.middleName} {student.lastName}</p>\r\n        </Link>\r\n        \r\n        )\r\n    })\r\n    \r\n    return(\r\n            <div className=\"parentContainer\">\r\n      <GreyBar />\r\n        <div className = \"content\"> \r\n        <Menu\r\n         searching = {this.getSearch}\r\n         onCheck = {this.onCheckClick}\r\n         searchBar={this.state.checkIcon}\r\n         search = {this.toggleSearch}\r\n         filter={this.onFilterClick}\r\n         />\r\n            \r\n          <SideBar  emailPath={\"/student-email-selected\"} check={this.getChecked} />\r\n          <div className=\"main\">\r\n            <div className=\"componentContainer\">\r\n            <UnpaidFeeSubTab number={filteredStuds.length}/>\r\n                <FullNameTab />\r\n           {this.state.searchText.length > 0 ? filteredStuds : unpaidStudents }\r\n              </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n            \r\n    )\r\n  }\r\n}\r\n\r\nexport default FeeView;"]},"metadata":{},"sourceType":"module"}