{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Documents\\\\NodeApps\\\\tengeza-mis\\\\client\\\\src\\\\email-pages\\\\EmailsRetrieved.js\";\nimport React, { Component } from 'react';\nimport EmailSubTab from '../components/email-components/EmailSubTab';\nimport EmailMenu from '../components/email-components/EmailMenu';\nimport '../styles/App.css';\nimport '../styles/EmailStyles.css';\nimport '../styles/StudentFeesPage.css';\nimport '../styles/EmailsRetrieved.css';\nimport GreyBar from '../components/global-layout/GreyBar';\nimport SideBar from '../components/global-layout/SideBar';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nvar cancelText = {\n  width: '54px',\n  height: '16px',\n  fontSize: '14px',\n  fontWeight: 600,\n  fontStyle: 'normal',\n  lineHeight: 1.21,\n  letterSpacing: 'normal',\n  textAlign: 'left',\n  color: '#44943e',\n  marginTop: '12px'\n};\nvar copyTxt = {\n  marginTop: '10px',\n  marginLeft: '43px',\n  width: '38px',\n  cursor: 'pointer',\n  height: '16px',\n  fontSize: '14px',\n  fontWeight: 600,\n  fontStyle: 'normal',\n  lineHeight: 1.21,\n  letterSpacing: 'normal',\n  textAlign: 'left',\n  color: '#ffffff'\n};\nvar tabText = \"Email List\";\nvar selectedStuds = [];\n\nvar EmailsRetrieved =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EmailsRetrieved, _Component);\n\n  function EmailsRetrieved() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, EmailsRetrieved);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(EmailsRetrieved)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      students: []\n    };\n\n    _this.getStudentEmails = function () {\n      var emailsClass = localStorage.getItem('selected-emails');\n      console.log(emailsClass);\n      var emailsArr = emailsClass.split(\",\");\n      console.log(emailsArr);\n      var selectedEmails = [];\n\n      _this.state.students.forEach(function (student) {\n        if (emailsArr.includes(student.class) === true) {\n          console.log(student.email);\n          selectedEmails.push(student.email);\n          console.log(selectedEmails);\n        } else if (emailsArr.includes(student.firstName) === true) {\n          console.log(student.firstName, student.middleName, student.lastName);\n          selectedEmails.push(student.email);\n          console.log(selectedEmails);\n        }\n      }); // Create a dummy input to copy the string array inside it\n\n\n      var dummy = document.createElement(\"input\"); // Add it to the document\n\n      document.body.appendChild(dummy); // Set its ID\n\n      dummy.setAttribute(\"id\", \"dummy_id\"); // Output the array into it\n\n      document.getElementById(\"dummy_id\").value = selectedEmails.join(\",\"); // Select it\n\n      dummy.select(); // Copy its contents\n\n      document.execCommand(\"copy\"); // Remove it as its not needed anymore\n\n      document.body.removeChild(dummy);\n      console.log(selectedStuds);\n    };\n\n    return _this;\n  }\n\n  _createClass(EmailsRetrieved, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://localhost:5000/students').then(function (res) {\n        console.log(res);\n\n        _this2.setState({\n          students: res.data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      this.getStudentEmails();\n      return React.createElement(\"div\", {\n        className: \"parentContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(GreyBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(SideBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(EmailMenu, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"componentContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(EmailSubTab, {\n        tab: tabText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"center-retrieved\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        id: \"text-centered\",\n        style: {\n          marginTop: '65px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Email addresses have been retrieved successfully\"), React.createElement(\"p\", {\n        id: \"parent-count\",\n        style: {\n          marginTop: '47px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        id: \"guardian-count\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"btn-block\",\n        style: {\n          marginTop: '65px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/home\",\n        onClick: window.location.reload,\n        id: \"cancel-btn\",\n        style: {\n          textDecoration: 'none'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: cancelText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"CANCEL\"))), React.createElement(\"div\", {\n        id: \"copy-btn\",\n        onClick: function onClick() {\n          _this3.getStudentEmails();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: copyTxt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"COPY\"))))))));\n    }\n  }]);\n\n  return EmailsRetrieved;\n}(Component);\n\nexport { EmailsRetrieved as default };","map":{"version":3,"sources":["C:\\Users\\user\\Documents\\NodeApps\\tengeza-mis\\client\\src\\email-pages\\EmailsRetrieved.js"],"names":["React","Component","EmailSubTab","EmailMenu","GreyBar","SideBar","axios","Link","cancelText","width","height","fontSize","fontWeight","fontStyle","lineHeight","letterSpacing","textAlign","color","marginTop","copyTxt","marginLeft","cursor","tabText","selectedStuds","EmailsRetrieved","state","students","getStudentEmails","emailsClass","localStorage","getItem","console","log","emailsArr","split","selectedEmails","forEach","student","includes","class","email","push","firstName","middleName","lastName","dummy","document","createElement","body","appendChild","setAttribute","getElementById","value","join","select","execCommand","removeChild","get","then","res","setState","data","window","location","reload","textDecoration"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,WAAP,MAAwB,4CAAxB;AACA,OAAOC,SAAP,MAAsB,0CAAtB;AACA,OAAO,mBAAP;AACA,OAAO,2BAAP;AACA,OAAO,+BAAP;AACA,OAAO,+BAAP;AACA,OAAOC,OAAP,MAAoB,qCAApB;AACA,OAAOC,OAAP,MAAoB,qCAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,QAAoB,kBAApB;AAGA,IAAMC,UAAU,GAAG;AACjBC,EAAAA,KAAK,EAAE,MADU;AAEjBC,EAAAA,MAAM,EAAE,MAFS;AAGjBC,EAAAA,QAAQ,EAAE,MAHO;AAIjBC,EAAAA,UAAU,EAAE,GAJK;AAKjBC,EAAAA,SAAS,EAAE,QALM;AAMjBC,EAAAA,UAAU,EAAE,IANK;AAOjBC,EAAAA,aAAa,EAAE,QAPE;AAQjBC,EAAAA,SAAS,EAAE,MARM;AASjBC,EAAAA,KAAK,EAAE,SATU;AAUjBC,EAAAA,SAAS,EAAE;AAVM,CAAnB;AAaA,IAAMC,OAAO,GAAG;AACdD,EAAAA,SAAS,EAAE,MADG;AAEdE,EAAAA,UAAU,EAAE,MAFE;AAGdX,EAAAA,KAAK,EAAE,MAHO;AAIdY,EAAAA,MAAM,EAAE,SAJM;AAKdX,EAAAA,MAAM,EAAE,MALM;AAMdC,EAAAA,QAAQ,EAAE,MANI;AAOdC,EAAAA,UAAU,EAAE,GAPE;AAQdC,EAAAA,SAAS,EAAE,QARG;AASdC,EAAAA,UAAU,EAAE,IATE;AAUdC,EAAAA,aAAa,EAAE,QAVD;AAWdC,EAAAA,SAAS,EAAE,MAXG;AAYdC,EAAAA,KAAK,EAAE;AAZO,CAAhB;AAeA,IAAMK,OAAO,GAAE,YAAf;AAEA,IAAIC,aAAa,GAAG,EAApB;;IACqBC,e;;;;;;;;;;;;;;;;;UAEnBC,K,GAAQ;AACNC,MAAAA,QAAQ,EAAE;AADJ,K;;UAaRC,gB,GAAmB,YAAK;AACvB,UAAIC,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAlB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,WAAZ;AAEA,UAAIK,SAAS,GAAGL,WAAW,CAACM,KAAZ,CAAkB,GAAlB,CAAhB;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAYC,SAAZ;AAEA,UAAIE,cAAc,GAAG,EAArB;;AAEA,YAAKV,KAAL,CAAWC,QAAX,CAAoBU,OAApB,CAA6B,UAAAC,OAAO,EAAI;AACtC,YAAGJ,SAAS,CAACK,QAAV,CAAmBD,OAAO,CAACE,KAA3B,MAAsC,IAAzC,EAA8C;AAC5CR,UAAAA,OAAO,CAACC,GAAR,CAAYK,OAAO,CAACG,KAApB;AACAL,UAAAA,cAAc,CAACM,IAAf,CAAoBJ,OAAO,CAACG,KAA5B;AACAT,UAAAA,OAAO,CAACC,GAAR,CAAYG,cAAZ;AAED,SALD,MAOK,IAAGF,SAAS,CAACK,QAAV,CAAmBD,OAAO,CAACK,SAA3B,MAA0C,IAA7C,EAAkD;AACrDX,UAAAA,OAAO,CAACC,GAAR,CAAYK,OAAO,CAACK,SAApB,EAA+BL,OAAO,CAACM,UAAvC,EAAmDN,OAAO,CAACO,QAA3D;AACAT,UAAAA,cAAc,CAACM,IAAf,CAAoBJ,OAAO,CAACG,KAA5B;AACAT,UAAAA,OAAO,CAACC,GAAR,CAAYG,cAAZ;AACD;AACF,OAbD,EATuB,CA0BxB;;;AACA,UAAIU,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAZ,CA3BwB,CA6BxB;;AACAD,MAAAA,QAAQ,CAACE,IAAT,CAAcC,WAAd,CAA0BJ,KAA1B,EA9BwB,CAgCxB;;AACAA,MAAAA,KAAK,CAACK,YAAN,CAAmB,IAAnB,EAAyB,UAAzB,EAjCwB,CAmCxB;;AACAJ,MAAAA,QAAQ,CAACK,cAAT,CAAwB,UAAxB,EAAoCC,KAApC,GAA2CjB,cAAc,CAACkB,IAAf,CAAoB,GAApB,CAA3C,CApCwB,CAsCxB;;AACAR,MAAAA,KAAK,CAACS,MAAN,GAvCwB,CAyCxB;;AACAR,MAAAA,QAAQ,CAACS,WAAT,CAAqB,MAArB,EA1CwB,CA4CxB;;AACAT,MAAAA,QAAQ,CAACE,IAAT,CAAcQ,WAAd,CAA0BX,KAA1B;AACEd,MAAAA,OAAO,CAACC,GAAR,CAAYT,aAAZ;AACD,K;;;;;;;wCAzDkB;AAAA;;AACjBjB,MAAAA,KAAK,CAACmD,GAAN,CAAU,gCAAV,EAA4CC,IAA5C,CAAiD,UAAAC,GAAG,EAAG;AACnD5B,QAAAA,OAAO,CAACC,GAAR,CAAY2B,GAAZ;;AACA,QAAA,MAAI,CAACC,QAAL,CAAc;AACblC,UAAAA,QAAQ,EAAEiC,GAAG,CAACE;AADD,SAAd;AAGH,OALD;AAMD;;;6BAqDW;AAAA;;AACN,WAAKlC,gBAAL;AACE,aAEV;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACY,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADZ,EAEY;AAAK,QAAA,SAAS,EAAG,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAEC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFD,EAGC;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,WAAD;AAAa,QAAA,GAAG,EAAEL,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,EAEA;AAAK,QAAA,EAAE,EAAC,kBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,EAAE,EAAC,eAAN;AACC,QAAA,KAAK,EAAE;AAACJ,UAAAA,SAAS,EAAE;AAAZ,SADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DADF,EAME;AAAG,QAAA,EAAE,EAAC,cAAN;AACC,QAAA,KAAK,EAAE;AAACA,UAAAA,SAAS,EAAE;AAAZ,SADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,EASE;AAAG,QAAA,EAAE,EAAC,gBAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,EAUA;AAAK,QAAA,EAAE,EAAC,WAAR;AAAoB,QAAA,KAAK,EAAE;AAACA,UAAAA,SAAS,EAAE;AAAZ,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACQ,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAE,OAAV;AAAmB,QAAA,OAAO,EAAE4C,MAAM,CAACC,QAAP,CAAgBC,MAA5C;AAAoD,QAAA,EAAE,EAAC,YAAvD;AAAoE,QAAA,KAAK,EAAE;AAACC,UAAAA,cAAc,EAAC;AAAhB,SAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAO;AAAG,QAAA,KAAK,EAAEzD,UAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAP,CAApG,CADR,EAEQ;AAAK,QAAA,EAAE,EAAC,UAAR;AAAmB,QAAA,OAAO,EAAE,mBAAK;AAAC,UAAA,MAAI,CAACmB,gBAAL;AAAwB,SAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA4D;AAAG,QAAA,KAAK,EAAER,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA5D,CAFR,CAVA,CAFA,CADH,CAHD,CAFZ,CAFU;AAgCH;;;;EAnGsClB,S;;SAAxBuB,e","sourcesContent":["import React, {Component} from 'react';\r\nimport EmailSubTab from '../components/email-components/EmailSubTab';\r\nimport EmailMenu from '../components/email-components/EmailMenu';\r\nimport '../styles/App.css';\r\nimport '../styles/EmailStyles.css';\r\nimport '../styles/StudentFeesPage.css';\r\nimport '../styles/EmailsRetrieved.css';\r\nimport GreyBar from '../components/global-layout/GreyBar';\r\nimport SideBar from '../components/global-layout/SideBar';\r\nimport axios from 'axios';\r\nimport {Link } from 'react-router-dom';\r\n \r\n\r\nconst cancelText = {\r\n  width: '54px',\r\n  height: '16px',\r\n  fontSize: '14px',\r\n  fontWeight: 600,\r\n  fontStyle: 'normal',\r\n  lineHeight: 1.21,\r\n  letterSpacing: 'normal',\r\n  textAlign: 'left',\r\n  color: '#44943e',\r\n  marginTop: '12px'\r\n}\r\n\r\nconst copyTxt = {\r\n  marginTop: '10px',\r\n  marginLeft: '43px',\r\n  width: '38px',\r\n  cursor: 'pointer',\r\n  height: '16px',\r\n  fontSize: '14px',\r\n  fontWeight: 600,\r\n  fontStyle: 'normal',\r\n  lineHeight: 1.21,\r\n  letterSpacing: 'normal',\r\n  textAlign: 'left',\r\n  color: '#ffffff',\r\n}\r\n\r\nconst tabText =\"Email List\";\r\n\r\nlet selectedStuds = []\r\nexport default class EmailsRetrieved extends Component{\r\n\r\n  state = {\r\n    students: []\r\n  }\r\n  componentDidMount(){\r\n    axios.get('http://localhost:5000/students').then(res =>{\r\n        console.log(res)\r\n        this.setState({\r\n         students: res.data\r\n        })\r\n    })\r\n  }\r\n   \r\n  \r\n  getStudentEmails = () =>{\r\n   let emailsClass = localStorage.getItem('selected-emails')\r\n   console.log(emailsClass)\r\n\r\n   let emailsArr = emailsClass.split(\",\")\r\n   console.log(emailsArr)\r\n\r\n   let selectedEmails = []\r\n\r\n   this.state.students.forEach( student => {\r\n     if(emailsArr.includes(student.class) === true){\r\n       console.log(student.email)\r\n       selectedEmails.push(student.email)\r\n       console.log(selectedEmails)\r\n\r\n     }\r\n\r\n     else if(emailsArr.includes(student.firstName) === true){\r\n       console.log(student.firstName, student.middleName, student.lastName)\r\n       selectedEmails.push(student.email)\r\n       console.log(selectedEmails)\r\n     }\r\n   })\r\n\r\n  \r\n\r\n  // Create a dummy input to copy the string array inside it\r\n  let dummy = document.createElement(\"input\");\r\n\r\n  // Add it to the document\r\n  document.body.appendChild(dummy);\r\n\r\n  // Set its ID\r\n  dummy.setAttribute(\"id\", \"dummy_id\");\r\n\r\n  // Output the array into it\r\n  document.getElementById(\"dummy_id\").value= selectedEmails.join(\",\")\r\n\r\n  // Select it\r\n  dummy.select();\r\n\r\n  // Copy its contents\r\n  document.execCommand(\"copy\");\r\n\r\n  // Remove it as its not needed anymore\r\n  document.body.removeChild(dummy);\r\n    console.log(selectedStuds)\r\n  }\r\n   \r\n  \r\n      render(){    \r\n        this.getStudentEmails()\r\n          return(\r\n\r\n<div className=\"parentContainer\">\r\n            <GreyBar />\r\n            <div className = \"content\">\r\n             <SideBar />\r\n             <EmailMenu />\r\n             <div className=\"main\">\r\n                <div className=\"componentContainer\">\r\n                <EmailSubTab tab={tabText} />\r\n                <div id=\"center-retrieved\">\r\n                  <p id=\"text-centered\"\r\n                   style={{marginTop: '65px'}}\r\n                  >\r\n                        Email addresses have been retrieved successfully\r\n                  </p>  \r\n                  <p id=\"parent-count\"\r\n                   style={{marginTop: '47px'}}\r\n                  ></p>\r\n                  <p id=\"guardian-count\"></p>\r\n                <div id=\"btn-block\" style={{marginTop: '65px'}}>\r\n                        <Link to={\"/home\"} onClick={window.location.reload} id=\"cancel-btn\" style={{textDecoration:'none'}}><div  ><p style={cancelText}>CANCEL</p></div></Link>\r\n                        <div id=\"copy-btn\" onClick={() =>{this.getStudentEmails()}}><p style={copyTxt}>COPY</p></div>\r\n                \r\n                </div>  \r\n                </div>\r\n                  \r\n                  </div>\r\n          </div></div></div>\r\n         \r\n\r\n             )\r\n      }\r\n}"]},"metadata":{},"sourceType":"module"}